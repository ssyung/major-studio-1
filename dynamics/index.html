<!DOCTYPE html>
<html>
    <head>
        <title>Renewable Energy and Good Governance</title>
        
        <!-- Google fonts -->
		<link href="https://fonts.googleapis.com/css?family=Alegreya+Sans:300,300i" rel="stylesheet">

        <script src="https://d3js.org/d3.v5.min.js"></script>
		<script src="radarChart.js"></script>	
		<script src="drawCircles.js"></script>	
        
		<style>
    		body {
    			font-family: 'Alegreya Sans', sans-serif;
    			font-size: 16px;
    			color: #a8382d;
    			cursor: default;
    			background: #F3EBDD;
    		}
    		
    		h1 {
    		    font-size: 26px;
    		    font-weight: normal;
    		    margin-bottom: 5px;
    		}
    		
    		.legend {
    			font-family: 'Alegreya Sans', sans-serif;
    			fill: #a8382d;
    			font-size: 14px !important;
    		}
    		
    		.tooltip {
    			fill: #a8382d;
    			font-size: 14px !important;
    		}
    		.chartwrapper {
    		    display: inline-block;
    		    margin-top: 10px;
    		    position: relative;
    		    min-width: 150px;
    		    min-height: 165px;
    		}
    		
    		.chartwrapper > .country_label {
    		    position: absolute;
    		    bottom: 0;
    		    width: 100%;
    		    height: 20px;
    		    left: 0;
    		    text-align: center;
    		    display: block;
    		}
    		.circles {
    		    width: 150px;
    		    height: 165px;
    		    position: absolute;
    		    top: 0px;
    		    left: 0;
    		}
    		.actual_chart {
    		    position: absolute;
    		    top:0px;
    		    left: 0;
    		}
		</style>
    </head>
    <body>
        
        <h1>
        Renewable Energy and Good Governance
        </h1>
        
        <p1>
The resource curse, also known as the paradox of plenty, refers to the paradox that countries with an abundance of natural resources tend to have less economic growth, less democracy, and worse development outcomes than countries with fewer natural resources.

<br>Does the "resource curse" apply to renewable energy? 

<br>Visually pairing World Governance Indicators with renewable energy potential, a pattern interplay leads to further lines of inquiry:
<br>- countries with weak World Governance Indicators and high renewable energy potential may have a higher susceptability to the resource curse (Sudan, Somalia, Democratic Republic of Congo)
<br>- countries with strong World Governance Indicators and high renewable energy potential may be strong candidates for renewable energy pilot projects (South Africa, Tanzania, Botswana)        </p1>
        
		<div id="charts"></div>
		
		<script>
		/* global d3 */
		/* global RadarChart */
		var color = d3.scaleOrdinal()
		    .range(["#A65A46","#CC333F","#E8E3DD"]); 
				
		var radarChartOptions = {
		  w: 130, //Math.max(70, window.innerWidth / 10.0),
		  h: 130, //Math.max(70, window.innerHeight / 10.0),
		  margin: {top: 15, right: 15, bottom: 15, left: 15},
		  maxValue: 2.5,
		  minValue: -2.5,
		  levels: 0,
		  dotRadius: 1.5,
		  strokeWidth: 1,
		  color: color
		};
		
        d3.csv("wgi_irena_ssa.csv").then((data) => {
            // data.sort((a,b) => {
            //     return d3.ascending(a.Country, b.Country);
            // })
                
            data.forEach((d, idx) => {
                if (idx === 0) return;
                let divIdName = 'rdr'+d["Code"];
                let divWrapEl = document.createElement('div');
                
                divWrapEl.className = 'chartwrapper';
                divWrapEl.innerHTML = '<div class="circles" id="cir'+d['Code']+'"></div><strong class="country_label">'+d['Country']+'</strong>';
                
                let divEl = document.createElement('div');
                divEl.setAttribute('id', divIdName);
                divEl.setAttribute('class', 'actual_chart');
                
                divWrapEl.appendChild(divEl);
                
                let chartsEl = document.getElementById('charts');
                chartsEl.appendChild(divWrapEl);
                
                let wgiData = [[
                    {axis:"Voice and Accountability",value:d["voiceAcc"]},
                    {axis:"Political Stability",value:d["politicalSta"]},
                    {axis:"Government Effectiveness",value:d["govEff"]},
                    {axis:"Regulatory Quality",value:d["regQua"]},
                    {axis:"Rule of Law",value:d["ruleLaw"]},
                    {axis:"Control of Corruption",value:d["controlCor"]}
                ]]
                
                RadarChart('#'+divIdName, wgiData, radarChartOptions);
                
                let irenaData = {
                    potential: d["potential"],
                    capacity: d["Capacity"]
                };
                
                // console.log(irenaData);
                
                drawCircles('#cir'+d['Code'], irenaData);
                
            });
            console.log(data);
        });

		</script>

    </body>
</html>
